!function(){function t(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return c=t.done,t},e:function(t){s=!0,a=t},f:function(){try{c||null==e.return||e.return()}finally{if(s)throw a}}}}function i(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function r(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"6k2k":function(t,i,e){"use strict";e.d(i,"a",function(){return c});var o=e("fXoL"),a=e("Vaw3"),c=function(){var t=function(){function t(i){n(this,t),this.storage=i}return r(t,[{key:"subirFoto",value:function(t,i){this.storage.upload("fotos/"+t,i)}},{key:"subirFotoUsuario",value:function(t,i){this.storage.upload("usuarios/"+t,i)}},{key:"subirFotoMateria",value:function(t,i){this.storage.upload("materias/"+t,i)}},{key:"traerFoto",value:function(t){return this.storage.ref("fotos/"+t).getDownloadURL()}},{key:"traerTodas",value:function(){return this.storage.ref("fotos/").listAll()}}]),t}();return t.\u0275fac=function(i){return new(i||t)(o.Yb(a.a))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"855J":function(i,e,o){"use strict";o.r(e),o.d(e,"ListadosModule",function(){return z});var a,c=o("ofXK"),s=o("tyNb"),u=o("fXoL"),l=o("FHRc"),f=o("mRib"),b=o("JqCM"),d=o("YR4g"),p=o("6k2k"),h=o("qFsG"),v=o("3Pt+"),g=((a=function(){function i(){n(this,i)}return r(i,[{key:"transform",value:function(i,n){var e,r=[],o=t(i);try{for(o.s();!(e=o.n()).done;){var a=e.value;(a.tipo.toLowerCase().indexOf(n.toLowerCase())>-1||a.correo.toLowerCase().indexOf(n.toLowerCase())>-1)&&r.push(a)}}catch(c){o.e(c)}finally{o.f()}return r}}]),i}()).\u0275fac=function(t){return new(t||a)},a.\u0275pipe=u.Ob({name:"filtro",type:a,pure:!0}),a);function m(t,i){if(1&t){var n=u.Vb();u.Ub(0,"a",14),u.bc("click",function(){u.pc(n);var t=u.dc().$implicit;return u.dc(2).cambiarEstado(t.uid,"activar")}),u.wc(1,"Habilitar"),u.Tb()}}function y(t,i){if(1&t){var n=u.Vb();u.Ub(0,"a",15),u.bc("click",function(){u.pc(n);var t=u.dc().$implicit;return u.dc(2).cambiarEstado(t.uid,"desactivar")}),u.wc(1,"Deshabilitar"),u.Tb()}}function w(t,i){if(1&t&&(u.Ub(0,"div",7),u.Ub(1,"div",8),u.Ub(2,"div",9),u.Ub(3,"p",10),u.wc(4),u.Tb(),u.Ub(5,"p",11),u.wc(6),u.Tb(),u.vc(7,m,2,0,"a",12),u.vc(8,y,2,0,"a",13),u.Tb(),u.Tb(),u.Tb()),2&t){var n=i.$implicit;u.Db(4),u.yc("Usuario: ",n.correo,""),u.Db(2),u.yc("Perfil: ",n.tipo,""),u.Db(1),u.jc("ngIf","inactivo"==n.estado&&"vendedor"==n.tipo),u.Db(1),u.jc("ngIf","activo"==n.estado&&"vendedor"==n.tipo)}}function k(t,i){if(1&t){var n=u.Vb();u.Ub(0,"div",3),u.Ub(1,"div",4),u.Ub(2,"input",5),u.bc("ngModelChange",function(t){return u.pc(n),u.dc().filter=t}),u.Tb(),u.Tb(),u.vc(3,w,9,4,"div",6),u.ec(4,"filtro"),u.Tb()}if(2&t){var e=u.dc();u.Db(2),u.jc("ngModel",e.filter),u.Db(1),u.jc("ngForOf",u.gc(4,2,e.usuarios,e.filter))}}var C,U,x=((C=function(){function t(i,e,r){n(this,t),this.usService=i,this.spinner=e,this.storage=r,this.loading=!0,this.mostrar=!1,this.filter=""}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.spinner.show(),this.usService.traerTodos().snapshotChanges().forEach(function(i){t.usuarios=[],i.forEach(function(i){var n=i.payload.toJSON();n.uid=i.payload.key,t.usuarios.push(n)}),t.spinner.hide().then(function(){t.loading=!1})})}},{key:"cambiarEstado",value:function(t,i){"activar"==i?this.usService.habilitarUsuario(t).subscribe():this.usService.deshabilitarUsuario(t).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||C)(u.Pb(f.a),u.Pb(b.c),u.Pb(p.a))},C.\u0275cmp=u.Jb({type:C,selectors:[["app-listado-usuarios"]],decls:3,vars:1,consts:[["bdColor","rgba(51,51,51,0.8)","size","large","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],["class","listado",4,"ngIf"],[1,"listado"],[1,"search-bar"],["matInput","","type","text","placeholder","Escribe un perfil o un nombre para filtrar",1,"form-control",3,"ngModel","ngModelChange"],["class","fila",4,"ngFor","ngForOf"],[1,"fila"],[1,"card",2,"width","100%","height","300","margin","10px"],[1,"card-body",2,"display","flex","flex-direction","row","align-items","center","justify-content","space-between"],[1,"card-title"],[1,"card-text"],["class","btn btn-dark","style","margin: 2px;",3,"click",4,"ngIf"],["class","btn btn-danger","style","margin: 2px;",3,"click",4,"ngIf"],[1,"btn","btn-dark",2,"margin","2px",3,"click"],[1,"btn","btn-danger",2,"margin","2px",3,"click"]],template:function(t,i){1&t&&(u.Ub(0,"ngx-spinner",0),u.Qb(1,"p",1),u.Tb(),u.vc(2,k,5,5,"div",2)),2&t&&(u.Db(2),u.jc("ngIf",!i.loading))},directives:[b.a,c.k,h.a,v.a,v.g,v.j,c.j],pipes:[g],styles:[".listado[_ngcontent-%COMP%]{justify-content:center;background-color:#383838;border-radius:3px;width:700px;max-height:600px}.fila[_ngcontent-%COMP%], .listado[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.fila[_ngcontent-%COMP%]{padding:5px;justify-content:space-between;height:100%;width:100%}img[_ngcontent-%COMP%]{height:200px;width:300px}.search-bar[_ngcontent-%COMP%]{width:100%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;display:flex;padding:10px;background-color:#383838}"]}),C),T=o("YhqW"),O=((U=function(){function t(){n(this,t)}return r(t,[{key:"transform",value:function(t){return t<10?"Baja comision":t>=10&&t<=20?"Buena comision":t>20?"Mucha comision":void 0}}]),t}()).\u0275fac=function(t){return new(t||U)},U.\u0275pipe=u.Ob({name:"comision",type:U,pure:!0}),U);function D(t,i){if(1&t){var n=u.Vb();u.Ub(0,"div",6),u.Ub(1,"div",7),u.Ub(2,"h5",8),u.wc(3),u.Tb(),u.Tb(),u.Ub(4,"div",9),u.Ub(5,"p",8),u.wc(6),u.Tb(),u.Ub(7,"p",10),u.wc(8),u.Tb(),u.Ub(9,"p",10),u.wc(10),u.ec(11,"comision"),u.Tb(),u.Ub(12,"a",11),u.bc("click",function(){u.pc(n);var t=i.$implicit;return u.dc(2).elegirCripto(t)}),u.wc(13,"Elegir"),u.Tb(),u.Tb(),u.Tb()}if(2&t){var e=i.$implicit;u.Db(3),u.xc(e.nombre),u.Db(3),u.yc("Costo actual: ",e.costoActual,""),u.Db(2),u.yc("A\xf1o: ",e.anio,""),u.Db(2),u.yc("Comision: ",u.fc(11,4,e.comision),"")}}function A(t,i){if(1&t&&(u.Ub(0,"div",6),u.Ub(1,"div",7),u.Ub(2,"h5",8),u.wc(3),u.Tb(),u.Tb(),u.Ub(4,"div",9),u.Ub(5,"p",8),u.wc(6),u.Tb(),u.Ub(7,"p",10),u.wc(8),u.Tb(),u.Ub(9,"p",10),u.wc(10),u.ec(11,"comision"),u.Tb(),u.Tb(),u.Tb()),2&t){var n=i.$implicit;u.Db(3),u.xc(n.nombre),u.Db(3),u.yc("Costo actual: ",n.costoActual,""),u.Db(2),u.yc("A\xf1o: ",n.anio,""),u.Db(2),u.yc("Comision: ",u.fc(11,4,n.comision),"")}}function P(t,i){if(1&t&&(u.Ub(0,"div",3),u.Ub(1,"div",4),u.vc(2,D,14,6,"div",5),u.Tb(),u.Ub(3,"div",4),u.vc(4,A,12,6,"div",5),u.Tb(),u.Tb()),2&t){var n=u.dc();u.Db(2),u.jc("ngForOf",n.criptosDisponibles),u.Db(2),u.jc("ngForOf",n.misCriptos)}}var j,M=((j=function(){function t(i,e,r){n(this,t),this.crService=i,this.spinner=e,this.usService=r,this.loading=!0,this.mostrar=!1,this.misCriptos=[],this.criptosDisponibles=[],this.filter=""}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.spinner.show(),this.usService.traerTodos().snapshotChanges().forEach(function(i){t.misCriptos=[],t.criptosDisponibles=[],i.forEach(function(i){var n=i.payload.toJSON();if(n.uid=i.payload.key,n.correo==localStorage.getItem("UsuarioActual"))if(t.usuarioActual=n,t.usuarioActual.misCriptos){for(var e=0,r=0;0==e;r++)t.usuarioActual.misCriptos[r]?t.misCriptos.push(t.usuarioActual.misCriptos[r]):e=1;console.log(t.misCriptos),t.calcularDisponibles()}else t.crService.traerTodas().snapshotChanges().forEach(function(i){t.criptosDisponibles=[],i.forEach(function(i){var n=i.payload.toJSON();n.uid=i.payload.key,t.criptosDisponibles.push(n)})})})}),this.spinner.hide().then(function(){t.loading=!1})}},{key:"calcularDisponibles",value:function(){var t=this,i=!1;this.criptosDisponibles=[],this.crService.traerTodasArray().forEach(function(n){for(var e=0;e<t.misCriptos.length;e++)t.misCriptos[e].nombre==n.nombre&&(i=!0);0==i&&t.criptosDisponibles.push(n)})}},{key:"elegirCripto",value:function(t){var i=this,n=this.misCriptos;n.push(t),this.crService.registrarEnBDVendedor(n,this.usuarioActual.uid).subscribe(function(){console.log("Agregado"),i.calcularDisponibles()})}}]),t}()).\u0275fac=function(t){return new(t||j)(u.Pb(T.a),u.Pb(b.c),u.Pb(f.a))},j.\u0275cmp=u.Jb({type:j,selectors:[["app-listado-criptos"]],decls:3,vars:1,consts:[["bdColor","rgba(51,51,51,0.8)","size","large","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],["class","listado",4,"ngIf"],[1,"listado"],[1,"fila"],["class","card","style","width: 350; margin: 5px;",4,"ngFor","ngForOf"],[1,"card",2,"width","350","margin","5px"],[1,"card-header"],[1,"card-title"],[1,"card-body",2,"display","flex","flex-direction","column","align-items","center","justify-content","center"],[1,"card-text"],[1,"btn","btn-dark",3,"click"]],template:function(t,i){1&t&&(u.Ub(0,"ngx-spinner",0),u.Qb(1,"p",1),u.Tb(),u.vc(2,P,5,2,"div",2)),2&t&&(u.Db(2),u.jc("ngIf",!i.loading))},directives:[b.a,c.k,c.j],pipes:[O],styles:[".listado[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;background-color:#383838;border-radius:3px;height:100%}.fila[_ngcontent-%COMP%], .listado[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.fila[_ngcontent-%COMP%]{padding:10px;justify-content:start;flex-direction:row;overflow-y:hidden;overflow-x:scroll}"]}),j);function S(t,i){1&t&&u.Qb(0,"app-listado-usuarios")}function I(t,i){1&t&&u.Qb(0,"app-listado-criptos")}var E,F,_,L=[{path:"",component:(E=function(){function t(i,e,r,o){n(this,t),this.auth=i,this.usService=e,this.spinner=r,this.router=o}return r(t,[{key:"ngOnInit",value:function(){this.usuarioActual=this.usService.traerPorEmail(localStorage.getItem("UsuarioActual"))}},{key:"salir",value:function(t){var i=this;this.spinner.show(),this.auth.logOut().then(function(){localStorage.removeItem("UsuarioActual"),i.spinner.hide().then(function(){i.router.navigate(["/"])})})}}]),t}(),E.\u0275fac=function(t){return new(t||E)(u.Pb(l.a),u.Pb(f.a),u.Pb(b.c),u.Pb(s.b))},E.\u0275cmp=u.Jb({type:E,selectors:[["app-listados"]],decls:5,vars:2,consts:[[3,"navigateEvent"],[1,"centrado"],[1,"listados"],[4,"ngIf"]],template:function(t,i){1&t&&(u.Ub(0,"app-cabecera",0),u.bc("navigateEvent",function(t){return i.salir(t)}),u.Tb(),u.Ub(1,"div",1),u.Ub(2,"div",2),u.vc(3,S,1,0,"app-listado-usuarios",3),u.vc(4,I,1,0,"app-listado-criptos",3),u.Tb(),u.Tb()),2&t&&(u.Db(3),u.jc("ngIf","administrador"==i.usuarioActual.tipo),u.Db(1),u.jc("ngIf","vendedor"==i.usuarioActual.tipo))},directives:[d.a,c.k,x,M],styles:["div[_ngcontent-%COMP%]{position:absolute;width:100%;height:92%;background-size:100% 100%;background-color:bisque;overflow-y:hidden}.centrado[_ngcontent-%COMP%], .listados[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.listados[_ngcontent-%COMP%]{background-color:transparent;width:80%;height:auto}"]}),E)}],J=((F=function t(){n(this,t)}).\u0275fac=function(t){return new(t||F)},F.\u0275mod=u.Nb({type:F}),F.\u0275inj=u.Mb({imports:[[s.c.forChild(L)],s.c]}),F),$=o("lSLK"),z=((_=function t(){n(this,t)}).\u0275fac=function(t){return new(t||_)},_.\u0275mod=u.Nb({type:_}),_.\u0275inj=u.Mb({imports:[[c.c,J,$.a]]}),_)},FHRc:function(t,i,e){"use strict";e.d(i,"a",function(){return c});var o=e("fXoL"),a=e("UbJi"),c=function(){var t=function(){function t(i){var e=this;n(this,t),this.firebaseAuth=i,this.firebaseAuth.authState.subscribe(function(t){e.currentUser=t})}return r(t,[{key:"registro",value:function(t,i){return this.firebaseAuth.createUserWithEmailAndPassword(t,i)}},{key:"login",value:function(t,i){var n=this;return this.firebaseAuth.setPersistence("session").then(function(){return n.firebaseAuth.signInWithEmailAndPassword(t,i).then(function(t){return n.currentUser=t.user})})}},{key:"logOut",value:function(){return this.firebaseAuth.signOut()}}]),t}();return t.\u0275fac=function(i){return new(i||t)(o.Yb(a.a))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();